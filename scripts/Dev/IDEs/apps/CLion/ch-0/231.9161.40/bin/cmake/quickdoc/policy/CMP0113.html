<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CMP0113</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <style type="text/css">
      /* CLION CMAKE DOCUMENTATION CSS PLACEHOLDER */
    </style>
  </head>
  <body>
    <div class="document">

      <div class="documentwrapper">
          <div class="body">
            
              <section id="cmp0113">
<span id="policy:CMP0113"><!--f--></span><h1>CMP0113</h1>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.19.</span></p>
</div>
<p><a class="reference internal" href="https://cmake.org/cmake/help/v3.24/manual/cmake-generators.7.html#makefile-generators"><span class="std std-ref">Makefile Generators</span></a> do not repeat custom commands from target
dependencies.</p>
<p>Consider a chain of custom commands split across two dependent targets:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">add_custom_command(</span><span class="no">OUTPUT</span><span class="w"> </span><span class="nb">output-not-created</span><span class="w"></span>
<span class="w">  </span><span class="no">COMMAND</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="no">DEPENDS</span><span class="w"> </span><span class="p">...</span><span class="nf">)</span><span class="w"></span>
<span class="nf">set_property(</span><span class="no">SOURCE</span><span class="w"> </span><span class="nb">output-not-created</span><span class="w"> </span><span class="no">PROPERTY</span><span class="w"> </span><span class="no">SYMBOLIC</span><span class="w"> </span><span class="m">1</span><span class="nf">)</span><span class="w"></span>
<span class="nf">add_custom_command(</span><span class="no">OUTPUT</span><span class="w"> </span><span class="nb">output-created</span><span class="w"></span>
<span class="w">  </span><span class="no">COMMAND</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="no">DEPENDS</span><span class="w"> </span><span class="o">${</span><span class="nt">CMAKE_CURRENT_BINARY_DIR</span><span class="o">}</span><span class="na">/output-not-created</span><span class="nf">)</span><span class="w"></span>
<span class="nf">add_custom_target(</span><span class="nb">first</span><span class="w"> </span><span class="no">DEPENDS</span><span class="w"> </span><span class="nb">output-not-created</span><span class="nf">)</span><span class="w"></span>
<span class="nf">add_custom_target(</span><span class="nb">second</span><span class="w"> </span><span class="no">DEPENDS</span><span class="w"> </span><span class="nb">output-created</span><span class="nf">)</span><span class="w"></span>
<span class="nf">add_dependencies(</span><span class="nb">second</span><span class="w"> </span><span class="nb">first</span><span class="nf">)</span><span class="w"></span>
</pre></div>
</div>
<p>In CMake 3.18 and lower, the Makefile generators put a copy of both custom
commands in the Makefile for target <code class="docutils literal notranslate"><span class="pre">second</span></code> even though its dependency on
target <code class="docutils literal notranslate"><span class="pre">first</span></code> ensures that the first custom command runs before the second.
Running <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">second</span></code> would cause the first custom command to run once in
the <code class="docutils literal notranslate"><span class="pre">first</span></code> target and then again in the <code class="docutils literal notranslate"><span class="pre">second</span></code> target.</p>
<p>CMake 3.19 and above prefer to not duplicate custom commands in a target that
are already generated in other targets on which the target depends (directly or
indirectly).  This policy provides compatibility for projects that have not
been updated to expect the new behavior.  In particular, projects that relied
on the duplicate execution or that did not properly set the <span class="target" id="index-0-prop_sf:SYMBOLIC"><!--f--></span><a class="reference internal" href="prop_sf/SYMBOLIC.html#prop_sf:SYMBOLIC" title="SYMBOLIC"><code class="xref cmake cmake-prop_sf docutils literal notranslate"><span class="pre">SYMBOLIC</span></code></a>
source file property may be affected.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">OLD</span></code> behavior for this policy is to duplicate custom commands in
dependent targets.  The <code class="docutils literal notranslate"><span class="pre">NEW</span></code> behavior of this policy is to not duplicate
custom commands in dependent targets.</p>
<p>This policy was introduced in CMake version 3.19.  Unlike many policies,
CMake version  does <em>not</em> warn when this policy is not set and
simply uses <code class="docutils literal notranslate"><span class="pre">OLD</span></code> behavior.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">OLD</span></code> behavior of a policy is
<span class="target" id="index-0-manual:cmake-policies(7)"><!--f--></span><a class="reference internal" href="https://cmake.org/cmake/help/v3.24/manual/cmake-policies.7.html#manual:cmake-policies(7)" title="cmake-policies(7)"><code class="xref cmake cmake-manual docutils literal notranslate"><span class="pre">deprecated</span> <span class="pre">by</span> <span class="pre">definition</span></code></a>
and may be removed in a future version of CMake.</p>
</div>
</section>

            
          </div>
      </div>
    </div>
  </body>
</html>